<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="index.css">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous">
        <style>

        </style>
    </head>
    <body>
        <main class="d-flex">
            <!-- Side bar for navigation -->
            <nav id="sidebar" class="d-flex flex-column bg-dark text-light">
                <h1 id="title">MacDondalds</h1>
                <hr />
                <ul class="nav d-flex flex-column">
                    <li class="nav-item h3">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item h3">
                        <a class="nav-link text-white"
                            href="orders.html">Orders</a>
                    </li>
                    <li class="nav-item h3">
                        <a class="nav-link text-white"
                            href="inventory.html">Inventory</a>
                    </li>
                    <li class="nav-item h3">
                        <a class="nav-link text-white"
                            href="employees.html">Employees</a>
                    </li>
                    <li class="nav-item h3">
                        <a class="nav-link text-white" href="menu.html">Menu</a>
                    </li>
                </ul>
                <div class="flex-grow-1"></div>
            </nav>

            <!-- Main content -->
            <div class="flex-grow-1 d-flex flex-column">
                <nav id="top-nav" class="d-flex justify-content-start">
                    <h2>Branch:</h2>
                    <select name="Branches" id="select-branches"
                        class="form-select">
                        <option value disabled selected>Select a Branch</option>
                    </select>
                </nav>
                <div class="main-content d-flex flex-column flex-grow-1">
                    <h1 id="page-title" class="align-self-center">Welcome to
                        MacDondalds Management System</h1>
                    <div class>
                        <h1>Branch Information:</h1>
                        <hr>
                        <h2 id="default-message"></h2>
                        <h2 id="branch-address"></h2>
                        <h2 id="branch-id"></h2>
                        <h2 id="branch-phone"></h2>
                        <h2 id="branch-open"></h2>
                        <h2 id="branch-close"></h2>
                    </div>
                </div>
            </div>
        </main>

        <script type="module">
            
            // Populate employees dynamically
            const branchAddress = document.querySelector('#branch-address')
            const branchId = document.querySelector('#branch-id')
            const branchPhone = document.querySelector('#branch-phone')
            const branchOpen = document.querySelector('#branch-open')
            const branchClose = document.querySelector('#branch-close')
            const branchSelect = document.querySelector('#select-branches')
            const defaultMessage = document.querySelector('#default-message');
            
            function setBranchInfo() {
                
                if(sessionStorage.getItem("selectedBranch") !== "{}") {
                    const currentBranch = JSON.parse(sessionStorage.getItem("selectedBranch"))
                    defaultMessage.innerText = "";
                    branchAddress.innerText = "Address: "+currentBranch.address
                    branchId.innerText = "Branch Id: "+currentBranch.branch_id
                    branchPhone.innerText = "Phone: "+currentBranch.phone_number
                    branchOpen.innerText = "Open Time: "+currentBranch.open_time
                    branchClose.innerText = "Closing Time: "+currentBranch.close_time
                } else {
                    defaultMessage.innerText = "Please select a branch!";
                }
            }
            
            setBranchInfo()

            // Define the click handler
            branchSelect.addEventListener('change', (event) => {
                setBranchInfo()
            })

        </script>

        <script src="config.js" type="module"></script>
        <script src="branch.js" type="module"></script>
        <script src="db.js" type="module"></script>
        <script src="sidenav.js" type="module"></script>
    </body>
</html>
